function _argumentsToArray(e){return[].concat.apply([],Array.prototype.slice.apply(e))}function radians(e){return e*Math.PI/180}function vec2(){var e=_argumentsToArray(arguments);switch(e.length){case 0:e.push(0);case 1:e.push(0)}return e.splice(0,2)}function vec3(){var e=_argumentsToArray(arguments);switch(e.length){case 0:e.push(0);case 1:e.push(0);case 2:e.push(0)}return e.splice(0,3)}function vec4(){var e=_argumentsToArray(arguments);switch(e.length){case 0:e.push(0);case 1:e.push(0);case 2:e.push(0);case 3:e.push(1)}return e.splice(0,4)}function mat2(){var e=_argumentsToArray(arguments),t=[];switch(e.length){case 0:e[0]=1;case 1:t=[vec2(e[0],0),vec2(0,e[0])];break;default:t.push(vec2(e)),e.splice(0,2),t.push(vec2(e))}return t.matrix=!0,t}function mat3(){var e=_argumentsToArray(arguments),t=[];switch(e.length){case 0:e[0]=1;case 1:t=[vec3(e[0],0,0),vec3(0,e[0],0),vec3(0,0,e[0])];break;default:t.push(vec3(e)),e.splice(0,3),t.push(vec3(e)),e.splice(0,3),t.push(vec3(e))}return t.matrix=!0,t}function mat4(){var e=_argumentsToArray(arguments),t=[];switch(e.length){case 0:e[0]=1;case 1:t=[vec4(e[0],0,0,0),vec4(0,e[0],0,0),vec4(0,0,e[0],0),vec4(0,0,0,e[0])];break;default:t.push(vec4(e)),e.splice(0,4),t.push(vec4(e)),e.splice(0,4),t.push(vec4(e)),e.splice(0,4),t.push(vec4(e))}return t.matrix=!0,t}function equal(e,t){if(e.length!=t.length)return!1;if(e.matrix&&t.matrix)for(var r=0;r<e.length;++r){if(e[r].length!=t[r].length)return!1;for(var a=0;a<e[r].length;++a)if(e[r][a]!==t[r][a])return!1}else{if(e.matrix&&!t.matrix||!e.matrix&&t.matrix)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1}return!0}function add(e,t){var r=[];if(e.matrix&&t.matrix){if(e.length!=t.length)throw"add(): trying to add matrices of different dimensions";for(var a=0;a<e.length;++a){if(e[a].length!=t[a].length)throw"add(): trying to add matrices of different dimensions";r.push([]);for(var n=0;n<e[a].length;++n)r[a].push(e[a][n]+t[a][n])}return r.matrix=!0,r}if(e.matrix&&!t.matrix||!e.matrix&&t.matrix)throw"add(): trying to add matrix and non-matrix variables";if(e.length!=t.length)throw"add(): vectors are not the same dimension";for(var a=0;a<e.length;++a)r.push(e[a]+t[a]);return r}function subtract(e,t){var r=[];if(e.matrix&&t.matrix){if(e.length!=t.length)throw"subtract(): trying to subtract matrices of different dimensions";for(var a=0;a<e.length;++a){if(e[a].length!=t[a].length)throw"subtract(): trying to subtact matrices of different dimensions";r.push([]);for(var n=0;n<e[a].length;++n)r[a].push(e[a][n]-t[a][n])}return r.matrix=!0,r}if(e.matrix&&!t.matrix||!e.matrix&&t.matrix)throw"subtact(): trying to subtact  matrix and non-matrix variables";if(e.length!=t.length)throw"subtract(): vectors are not the same length";for(var a=0;a<e.length;++a)r.push(e[a]-t[a]);return r}function mult(e,t){var r=[];if(e.matrix&&t.matrix){if(e.length!=t.length)throw"mult(): trying to add matrices of different dimensions";for(var a=0;a<e.length;++a)if(e[a].length!=t[a].length)throw"mult(): trying to add matrices of different dimensions";for(var a=0;a<e.length;++a){r.push([]);for(var n=0;n<t.length;++n){for(var i=0,o=0;o<e.length;++o)i+=e[a][o]*t[o][n];r[a].push(i)}}return r.matrix=!0,r}if(e.matrix&&!t.matrix){if(e.length!=t.length)throw"mult(): matrix and vector not compatible";for(var a=0;a<e.length;++a){for(var i=0,n=0;n<e.length;n++)i+=e[a][n]*t[n];r.push(i)}return r}if(e.length!=t.length)throw"mult(): vectors are not the same dimension";for(var a=0;a<e.length;++a)r.push(e[a]*t[a]);return r}function translate(e,t,r){Array.isArray(e)&&3==e.length&&(r=e[2],t=e[1],e=e[0]);var a=mat4();return a[0][3]=e,a[1][3]=t,a[2][3]=r,a}function rotate(e,t){Array.isArray(t)||(t=[arguments[1],arguments[2],arguments[3]]);var r=normalize(t),a=r[0],n=r[1],i=r[2],o=Math.cos(radians(e)),s=1-o,c=Math.sin(radians(e));return mat4(vec4(a*a*s+o,a*n*s-i*c,a*i*s+n*c,0),vec4(a*n*s+i*c,n*n*s+o,n*i*s-a*c,0),vec4(a*i*s-n*c,n*i*s+a*c,i*i*s+o,0),vec4())}function rotateX(e){var t=Math.cos(radians(e)),r=Math.sin(radians(e));return mat4(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1)}function rotateY(e){var t=Math.cos(radians(e)),r=Math.sin(radians(e));return mat4(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1)}function rotateZ(e){var t=Math.cos(radians(e)),r=Math.sin(radians(e));return mat4(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1)}function scalem(e,t,r){Array.isArray(e)&&3==e.length&&(r=e[2],t=e[1],e=e[0]);var a=mat4();return a[0][0]=e,a[1][1]=t,a[2][2]=r,a}function lookAt(e,t,r){if(!Array.isArray(e)||3!=e.length)throw"lookAt(): first parameter [eye] must be an a vec3";if(!Array.isArray(t)||3!=t.length)throw"lookAt(): first parameter [at] must be an a vec3";if(!Array.isArray(r)||3!=r.length)throw"lookAt(): first parameter [up] must be an a vec3";if(equal(e,t))return mat4();var a=normalize(subtract(e,t)),n=normalize(cross(r,a)),i=normalize(cross(a,n));return mat4(vec4(n,-dot(n,e)),vec4(i,-dot(i,e)),vec4(a,-dot(a,e)),vec4())}function ortho(e,t,r,a,n,i){if(e==t)throw"ortho(): left and right are equal";if(r==a)throw"ortho(): bottom and top are equal";if(n==i)throw"ortho(): near and far are equal";var o=t-e,s=a-r,c=i-n,l=mat4();return l[0][0]=2/o,l[1][1]=2/s,l[2][2]=-2/c,l[0][3]=-(e+t)/o,l[1][3]=-(a+r)/s,l[2][3]=-(n+i)/c,l}function perspective(e,t,r,a){var n=1/Math.tan(radians(e)/2),i=a-r,o=mat4();return o[0][0]=n/t,o[1][1]=n,o[2][2]=-(r+a)/i,o[2][3]=-2*r*a/i,o[3][2]=-1,o[3][3]=0,o}function transpose(e){if(!e.matrix)return"transpose(): trying to transpose a non-matrix";for(var t=[],r=0;r<e.length;++r){t.push([]);for(var a=0;a<e[r].length;++a)t[r].push(e[a][r])}return t.matrix=!0,t}function dot(e,t){if(e.length!=t.length)throw"dot(): vectors are not the same dimension";for(var r=0,a=0;a<e.length;++a)r+=e[a]*t[a];return r}function negate(e){for(var t=[],r=0;r<e.length;++r)t.push(-e[r]);return t}function cross(e,t){if(!Array.isArray(e)||e.length<3)throw"cross(): first argument is not a vector of at least 3";if(!Array.isArray(t)||t.length<3)throw"cross(): second argument is not a vector of at least 3";return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function length(e){return Math.sqrt(dot(e,e))}function normalize(e,t){if(t)var r=e.pop();var a=length(e);if(!isFinite(a))throw"normalize: vector "+e+" has zero length";for(var n=0;n<e.length;++n)e[n]/=a;return t&&e.push(r),e}function mix(e,t,r){if("number"!=typeof r)throw"mix: the last paramter "+r+" must be a number";if(e.length!=t.length)throw"vector dimension mismatch";for(var a=[],n=0;n<e.length;++n)a.push((1-r)*e[n]+r*t[n]);return a}function scale(e,t){if(!Array.isArray(t))throw"scale: second parameter "+t+" is not a vector";for(var r=[],a=0;a<t.length;++a)r.push(e*t[a]);return r}function flatten(e){!0===e.matrix&&(e=transpose(e));var t=e.length,r=!1;Array.isArray(e[0])&&(r=!0,t*=e[0].length);var a=new Float32Array(t);if(r)for(var n=0,i=0;i<e.length;++i)for(var o=0;o<e[i].length;++o)a[n++]=e[i][o];else for(var i=0;i<e.length;++i)a[i]=e[i];return a}function printm(e){if(2==e.length)for(var t=0;t<e.length;t++)console.log(e[t][0],e[t][1]);else if(3==e.length)for(var t=0;t<e.length;t++)console.log(e[t][0],e[t][1],e[t][2]);else if(4==e.length)for(var t=0;t<e.length;t++)console.log(e[t][0],e[t][1],e[t][2],e[t][3])}function det2(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function det3(e){return e[0][0]*e[1][1]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[2][1]*e[1][0]-e[2][0]*e[1][1]*e[0][2]-e[1][0]*e[0][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]}function det4(e){var t=[vec3(e[1][1],e[1][2],e[1][3]),vec3(e[2][1],e[2][2],e[2][3]),vec3(e[3][1],e[3][2],e[3][3])],r=[vec3(e[1][0],e[1][2],e[1][3]),vec3(e[2][0],e[2][2],e[2][3]),vec3(e[3][0],e[3][2],e[3][3])],a=[vec3(e[1][0],e[1][1],e[1][3]),vec3(e[2][0],e[2][1],e[2][3]),vec3(e[3][0],e[3][1],e[3][3])],n=[vec3(e[1][0],e[1][1],e[1][2]),vec3(e[2][0],e[2][1],e[2][2]),vec3(e[3][0],e[3][1],e[3][2])];return e[0][0]*det3(t)-e[0][1]*det3(r)+e[0][2]*det3(a)-e[0][3]*det3(n)}function det(e){return 1!=e.matrix&&console.log("not a matrix"),2==e.length?det2(e):3==e.length?det3(e):4==e.length?det4(e):void 0}function inverse2(e){var t=mat2(),r=det2(e);return t[0][0]=e[1][1]/r,t[0][1]=-e[0][1]/r,t[1][0]=-e[1][0]/r,t[1][1]=e[0][0]/r,t.matrix=!0,t}function inverse3(e){var t=mat3(),r=det3(e),a=[vec2(e[1][1],e[1][2]),vec2(e[2][1],e[2][2])],n=[vec2(e[1][0],e[1][2]),vec2(e[2][0],e[2][2])],i=[vec2(e[1][0],e[1][1]),vec2(e[2][0],e[2][1])],o=[vec2(e[0][1],e[0][2]),vec2(e[2][1],e[2][2])],s=[vec2(e[0][0],e[0][2]),vec2(e[2][0],e[2][2])],c=[vec2(e[0][0],e[0][1]),vec2(e[2][0],e[2][1])],l=[vec2(e[0][1],e[0][2]),vec2(e[1][1],e[1][2])],u=[vec2(e[0][0],e[0][2]),vec2(e[1][0],e[1][2])],f=[vec2(e[0][0],e[0][1]),vec2(e[1][0],e[1][1])];return t[0][0]=det2(a)/r,t[0][1]=-det2(o)/r,t[0][2]=det2(l)/r,t[1][0]=-det2(n)/r,t[1][1]=det2(s)/r,t[1][2]=-det2(u)/r,t[2][0]=det2(i)/r,t[2][1]=-det2(c)/r,t[2][2]=det2(f)/r,t}function inverse4(e){var t=mat4(),r=det4(e),a=[vec3(e[1][1],e[1][2],e[1][3]),vec3(e[2][1],e[2][2],e[2][3]),vec3(e[3][1],e[3][2],e[3][3])],n=[vec3(e[1][0],e[1][2],e[1][3]),vec3(e[2][0],e[2][2],e[2][3]),vec3(e[3][0],e[3][2],e[3][3])],i=[vec3(e[1][0],e[1][1],e[1][3]),vec3(e[2][0],e[2][1],e[2][3]),vec3(e[3][0],e[3][1],e[3][3])],o=[vec3(e[1][0],e[1][1],e[1][2]),vec3(e[2][0],e[2][1],e[2][2]),vec3(e[3][0],e[3][1],e[3][2])],s=[vec3(e[0][1],e[0][2],e[0][3]),vec3(e[2][1],e[2][2],e[2][3]),vec3(e[3][1],e[3][2],e[3][3])],c=[vec3(e[0][0],e[0][2],e[0][3]),vec3(e[2][0],e[2][2],e[2][3]),vec3(e[3][0],e[3][2],e[3][3])],l=[vec3(e[0][0],e[0][1],e[0][3]),vec3(e[2][0],e[2][1],e[2][3]),vec3(e[3][0],e[3][1],e[3][3])],u=[vec3(e[0][0],e[0][1],e[0][2]),vec3(e[2][0],e[2][1],e[2][2]),vec3(e[3][0],e[3][1],e[3][2])],f=[vec3(e[0][1],e[0][2],e[0][3]),vec3(e[1][1],e[1][2],e[1][3]),vec3(e[3][1],e[3][2],e[3][3])],d=[vec3(e[0][0],e[0][2],e[0][3]),vec3(e[1][0],e[1][2],e[1][3]),vec3(e[3][0],e[3][2],e[3][3])],m=[vec3(e[0][0],e[0][1],e[0][3]),vec3(e[1][0],e[1][1],e[1][3]),vec3(e[3][0],e[3][1],e[3][3])],h=[vec3(e[0][0],e[0][1],e[0][2]),vec3(e[1][0],e[1][1],e[1][2]),vec3(e[3][0],e[3][1],e[3][2])],p=[vec3(e[0][1],e[0][2],e[0][3]),vec3(e[1][1],e[1][2],e[1][3]),vec3(e[2][1],e[2][2],e[2][3])],_=[vec3(e[0][0],e[0][2],e[0][3]),vec3(e[1][0],e[1][2],e[1][3]),vec3(e[2][0],e[2][2],e[2][3])],g=[vec3(e[0][0],e[0][1],e[0][3]),vec3(e[1][0],e[1][1],e[1][3]),vec3(e[2][0],e[2][1],e[2][3])],v=[vec3(e[0][0],e[0][1],e[0][2]),vec3(e[1][0],e[1][1],e[1][2]),vec3(e[2][0],e[2][1],e[2][2])];return t[0][0]=det3(a)/r,t[0][1]=-det3(s)/r,t[0][2]=det3(f)/r,t[0][3]=-det3(p)/r,t[1][0]=-det3(n)/r,t[1][1]=det3(c)/r,t[1][2]=-det3(d)/r,t[1][3]=det3(_)/r,t[2][0]=det3(i)/r,t[2][1]=-det3(l)/r,t[2][2]=det3(m)/r,t[2][3]=-det3(g)/r,t[3][0]=-det3(o)/r,t[3][1]=det3(u)/r,t[3][2]=-det3(h)/r,t[3][3]=det3(v)/r,t}function inverse(e){return 1!=e.matrix&&console.log("not a matrix"),2==e.length?inverse2(e):3==e.length?inverse3(e):4==e.length?inverse4(e):void 0}function normalMatrix(e,t){var r=mat4();if(r=transpose(inverse(e)),1!=t)return r;for(var a=mat3(),n=0;n<3;n++)for(var i=0;i<3;i++)a[n][i]=r[n][i];return a}function initShaders(e,t,r){var a,n,i=document.getElementById(t);if(!i)return alert("Unable to load vertex shader "+t),-1;if(a=e.createShader(e.VERTEX_SHADER),e.shaderSource(a,i.text),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS)){var o="Vertex shader failed to compile.  The error log is:<pre>"+e.getShaderInfoLog(a)+"</pre>";return alert(o),-1}var s=document.getElementById(r);if(!s)return alert("Unable to load vertex shader "+r),-1;if(n=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(n,s.text),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var o="Fragment shader failed to compile.  The error log is:<pre>"+e.getShaderInfoLog(n)+"</pre>";return alert(o),-1}var c=e.createProgram();if(e.attachShader(c,a),e.attachShader(c,n),e.linkProgram(c),!e.getProgramParameter(c,e.LINK_STATUS)){var o="Shader program failed to link.  The error log is:<pre>"+e.getProgramInfoLog(c)+"</pre>";return alert(o),-1}return c}function render(){gl.uniform2f(offsetLoc,offsetX,offsetY),gl.uniform1f(factorLoc,factor),gl.uniform1f(zoomLoc,zoom),gl.uniform2fv(complexLoc,complex),gl.uniform1i(isMandLoc,isMand),gl.clear(gl.COLOR_BUFFER_BIT),gl.drawArrays(gl.TRIANGLE_STRIP,0,4),window.requestAnimFrame(render)}function cubeInit(e){cubeBuild(),cubeUploadData(e)}function cubeBuild(){cubeAddFace(0,1,2,3,vec3(0,0,1)),cubeAddFace(1,5,6,2,vec3(1,0,0)),cubeAddFace(4,7,6,5,vec3(0,0,-1)),cubeAddFace(0,3,7,4,vec3(-1,0,0)),cubeAddFace(3,2,6,7,vec3(0,1,0)),cubeAddFace(0,4,5,1,vec3(0,-1,0))}function cubeUploadData(e){cube_points_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,cube_points_buffer),e.bufferData(e.ARRAY_BUFFER,flatten(cube_points),e.STATIC_DRAW),cube_normals_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,cube_normals_buffer),e.bufferData(e.ARRAY_BUFFER,flatten(cube_normals),e.STATIC_DRAW),cube_faces_buffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,cube_faces_buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint8Array(cube_faces),e.STATIC_DRAW),cube_edges_buffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,cube_edges_buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint8Array(cube_edges),e.STATIC_DRAW)}function cubeDrawWireFrame(e,t){e.useProgram(t),e.bindBuffer(e.ARRAY_BUFFER,cube_points_buffer);var r=e.getAttribLocation(t,"vPosition");e.vertexAttribPointer(r,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,cube_normals_buffer);var a=e.getAttribLocation(t,"vNormal");e.vertexAttribPointer(a,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,cube_edges_buffer),e.drawElements(e.LINES,cube_edges.length,e.UNSIGNED_BYTE,0)}function cubeDrawFilled(e,t){e.useProgram(t),e.bindBuffer(e.ARRAY_BUFFER,cube_points_buffer);var r=e.getAttribLocation(t,"vPosition");e.vertexAttribPointer(r,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,cube_normals_buffer);var a=e.getAttribLocation(t,"vNormal");e.vertexAttribPointer(a,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,cube_faces_buffer),e.drawElements(e.TRIANGLES,cube_faces.length,e.UNSIGNED_BYTE,0)}function cubeAddFace(e,t,r,a,n){var i=cube_points.length;cube_points.push(cube_vertices[e]),cube_points.push(cube_vertices[t]),cube_points.push(cube_vertices[r]),cube_points.push(cube_vertices[a]);for(var o=0;o<4;o++)cube_normals.push(n);cube_faces.push(i),cube_faces.push(i+1),cube_faces.push(i+2),cube_faces.push(i),cube_faces.push(i+2),cube_faces.push(i+3),cube_edges.push(i),cube_edges.push(i+1),cube_edges.push(i+1),cube_edges.push(i+2)}function pyramidInit(e){pyramidBuild(),pyramidUploadData(e)}function pyramidBuild(){pyramidAddBase(0,1,2,3,vec3(0,-1,0)),pyramidAddFace(0,1,4,vec3(0,-.5,-1)),pyramidAddFace(1,2,4,vec3(-1,-.5,0)),pyramidAddFace(2,3,4,vec3(0,-5,1)),pyramidAddFace(3,0,4,vec3(1,.5,0))}function pyramidUploadData(e){pyramid_points_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,pyramid_points_buffer),e.bufferData(e.ARRAY_BUFFER,flatten(pyramid_points),e.STATIC_DRAW),pyramid_normals_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,pyramid_normals_buffer),e.bufferData(e.ARRAY_BUFFER,flatten(pyramid_normals),e.STATIC_DRAW),pyramid_faces_buffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,pyramid_faces_buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint8Array(pyramid_faces),e.STATIC_DRAW),pyramid_edges_buffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,pyramid_edges_buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint8Array(pyramid_edges),e.STATIC_DRAW)}function pyramidDrawWireFrame(e,t){e.useProgram(t),e.bindBuffer(e.ARRAY_BUFFER,pyramid_points_buffer);var r=e.getAttribLocation(t,"vPosition");e.vertexAttribPointer(r,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,pyramid_normals_buffer);var a=e.getAttribLocation(t,"vNormal");e.vertexAttribPointer(a,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,pyramid_edges_buffer),e.drawElements(e.LINES,pyramid_edges.length,e.UNSIGNED_BYTE,0)}function pyramidDrawFilled(e,t){e.useProgram(t),e.bindBuffer(e.ARRAY_BUFFER,pyramid_points_buffer);var r=e.getAttribLocation(t,"vPosition");e.vertexAttribPointer(r,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,pyramid_normals_buffer);var a=e.getAttribLocation(t,"vNormal");e.vertexAttribPointer(a,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,pyramid_faces_buffer),e.drawElements(e.TRIANGLES,pyramid_faces.length,e.UNSIGNED_BYTE,0)}function pyramidAddFace(e,t,r,a){var n=pyramid_points.length;pyramid_points.push(pyramid_vertices[e]),pyramid_points.push(pyramid_vertices[t]),pyramid_points.push(pyramid_vertices[r]);for(var i=0;i<3;i++)pyramid_normals.push(a);pyramid_faces.push(n),pyramid_faces.push(n+1),pyramid_faces.push(n+2),pyramid_edges.push(n),pyramid_edges.push(n+1),pyramid_edges.push(n+1),pyramid_edges.push(n+2)}function pyramidAddBase(e,t,r,a,n){var i=pyramid_points.length;pyramid_points.push(pyramid_vertices[e]),pyramid_points.push(pyramid_vertices[t]),pyramid_points.push(pyramid_vertices[r]),pyramid_points.push(pyramid_vertices[a]);for(var o=0;o<4;o++)pyramid_normals.push(n);pyramid_faces.push(i),pyramid_faces.push(i+1),pyramid_faces.push(i+2),pyramid_faces.push(i),pyramid_faces.push(i+2),pyramid_faces.push(i+3),pyramid_edges.push(i),pyramid_edges.push(i+1),pyramid_edges.push(i+1),pyramid_edges.push(i+2)}function sphereInit(e){sphereBuild(SPHERE_LATS,SPHERE_LONS),sphereUploadData(e)}function sphereBuild(e,t){var r=Math.PI/(e+1),a=2*Math.PI/t,n=vec3(0,.5,0);sphere_points.push(n),sphere_normals.push(vec3(0,1,0));for(var i=0,o=Math.PI/2-r;i<e;i++,o-=r)for(var s=0,c=0;s<t;s++,c+=a){var l=vec3(.5*Math.cos(o)*Math.cos(c),.5*Math.sin(o),.5*Math.cos(o)*Math.sin(c));sphere_points.push(l);var u=vec3(l);sphere_normals.push(normalize(u))}var f=vec3(0,-.5,0);sphere_points.push(f),sphere_normals.push(vec3(0,-1,0));for(var i=0;i<t-1;i++)sphere_faces.push(0),sphere_faces.push(i+1),sphere_faces.push(i+2);sphere_faces.push(0),sphere_faces.push(t),sphere_faces.push(1);for(var d=1,i=0;i<e-1;i++){for(var s=0;s<t-1;s++){var m=d+i*t+s;sphere_faces.push(m),sphere_faces.push(m+t),sphere_faces.push(m+t+1),sphere_faces.push(m),sphere_faces.push(m+t+1),sphere_faces.push(m+1)}var m=d+i*t+t-1;sphere_faces.push(m),sphere_faces.push(m+t),sphere_faces.push(m+1),sphere_faces.push(m),sphere_faces.push(m+1),sphere_faces.push(m-t+1)}for(var d=1+(e-1)*t,s=0;s<t-1;s++)sphere_faces.push(d+t),sphere_faces.push(d+s+1),sphere_faces.push(d+s);sphere_faces.push(d+t),sphere_faces.push(d),sphere_faces.push(d+t-1);for(var i=0;i<t;i++)sphere_edges.push(0),sphere_edges.push(i+1);for(var i=0;i<e;i++,m++)for(var s=0;s<t;s++,m++){var m=1+i*t+s;sphere_edges.push(m),s!=t-1?sphere_edges.push(m+1):sphere_edges.push(m+1-t),i!=e-1?(sphere_edges.push(m),sphere_edges.push(m+t)):(sphere_edges.push(m),sphere_edges.push(sphere_points.length-1))}}function sphereUploadData(e){sphere_points_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,sphere_points_buffer),e.bufferData(e.ARRAY_BUFFER,flatten(sphere_points),e.STATIC_DRAW),sphere_normals_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,sphere_normals_buffer),e.bufferData(e.ARRAY_BUFFER,flatten(sphere_normals),e.STATIC_DRAW),sphere_faces_buffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,sphere_faces_buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(sphere_faces),e.STATIC_DRAW),sphere_edges_buffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,sphere_edges_buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(sphere_edges),e.STATIC_DRAW)}function sphereDrawWireFrame(e,t){e.useProgram(t),e.bindBuffer(e.ARRAY_BUFFER,sphere_points_buffer);var r=e.getAttribLocation(t,"vPosition");e.vertexAttribPointer(r,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,sphere_normals_buffer);var a=e.getAttribLocation(t,"vNormal");e.vertexAttribPointer(a,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,sphere_edges_buffer),e.drawElements(e.LINES,sphere_edges.length,e.UNSIGNED_SHORT,0)}function sphereDrawFilled(e,t){e.useProgram(t),e.bindBuffer(e.ARRAY_BUFFER,sphere_points_buffer);var r=e.getAttribLocation(t,"vPosition");e.vertexAttribPointer(r,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,sphere_normals_buffer);var a=e.getAttribLocation(t,"vNormal");e.vertexAttribPointer(a,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,sphere_faces_buffer),e.drawElements(e.TRIANGLES,sphere_faces.length,e.UNSIGNED_SHORT,0)}function torusInit(e){torusBuild(torus_LATS,torus_LONS),torusUploadData(e)}function torusBuild(e,t){var r=(2*Math.PI+.16)/e,a=2*Math.PI/t,n=vec3(0,.5,0);torus_points.push(n),torus_normals.push(vec3(0,1,0));for(var i=0,o=Math.PI/2-r;i<e;i++,o-=r)for(var s=0,c=0;s<t;s++,c+=a){var l=vec3((.5+.25*Math.cos(c))*Math.cos(o),(.5+.25*Math.cos(c))*Math.sin(o),.25*Math.sin(c));torus_points.push(l);var u=vec3(l);torus_normals.push(normalize(u))}var f=vec3(0,.5,0);torus_points.push(f),torus_normals.push(vec3(0,-1,0));for(var i=0;i<t-1;i++)torus_faces.push(0),torus_faces.push(i+1),torus_faces.push(i+2);torus_faces.push(0),torus_faces.push(t),torus_faces.push(1);for(var d=1,i=0;i<e-1;i++){for(var s=0;s<t-1;s++){var m=d+i*t+s;torus_faces.push(m),torus_faces.push(m+t),torus_faces.push(m+t+1),torus_faces.push(m),torus_faces.push(m+t+1),torus_faces.push(m+1)}var m=d+i*t+t-1;torus_faces.push(m),torus_faces.push(m+t),torus_faces.push(m+1),torus_faces.push(m),torus_faces.push(m+1),torus_faces.push(m-t+1)}for(var d=1+(e-1)*t,s=0;s<t-1;s++)torus_faces.push(d+t),torus_faces.push(d+s+1),torus_faces.push(d+s);torus_faces.push(d+t),torus_faces.push(d),torus_faces.push(d+t-1);for(var i=0;i<e;i++,m++)for(var s=0;s<t;s++,m++){var m=1+i*t+s;torus_edges.push(m),s!=t-1?torus_edges.push(m+1):torus_edges.push(m+1-t),i!=e-1&&(torus_edges.push(m),torus_edges.push(m+t))}}function torusUploadData(e){torus_points_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,torus_points_buffer),e.bufferData(e.ARRAY_BUFFER,flatten(torus_points),e.STATIC_DRAW),torus_normals_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,torus_normals_buffer),e.bufferData(e.ARRAY_BUFFER,flatten(torus_normals),e.STATIC_DRAW),torus_faces_buffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,torus_faces_buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(torus_faces),e.STATIC_DRAW),torus_edges_buffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,torus_edges_buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(torus_edges),e.STATIC_DRAW)}function torusDrawWireFrame(e,t){e.useProgram(t),e.bindBuffer(e.ARRAY_BUFFER,torus_points_buffer);var r=e.getAttribLocation(t,"vPosition");e.vertexAttribPointer(r,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,torus_normals_buffer);var a=e.getAttribLocation(t,"vNormal");e.vertexAttribPointer(a,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,torus_edges_buffer),e.drawElements(e.LINES,torus_edges.length,e.UNSIGNED_SHORT,0)}function torusDrawFilled(e,t){e.useProgram(t),e.bindBuffer(e.ARRAY_BUFFER,torus_points_buffer);var r=e.getAttribLocation(t,"vPosition");e.vertexAttribPointer(r,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,torus_normals_buffer);var a=e.getAttribLocation(t,"vNormal");e.vertexAttribPointer(a,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,torus_faces_buffer),e.drawElements(e.TRIANGLES,torus_faces.length,e.UNSIGNED_SHORT,0)}function cylinderAddEdge(e,t,r,a){cylinder_edges.push(e),cylinder_edges.push(0),cylinder_edges.push(t),cylinder_edges.push(CYLINDER_N+1),cylinder_edges.push(e),cylinder_edges.push(t),cylinder_edges.push(e),cylinder_edges.push(r),cylinder_edges.push(t),cylinder_edges.push(a)}function cylinderAddFace(e,t,r,a){cylinder_faces.push(e),cylinder_faces.push(t),cylinder_faces.push(r),cylinder_faces.push(t),cylinder_faces.push(a),cylinder_faces.push(r)}function cylinderAddTriangle(e,t,r){cylinder_faces.push(e),cylinder_faces.push(t),cylinder_faces.push(r)}function cylinderBuild(){cylinderBuildVertices(),cylinderBuildFaces(),cylinderBuildEdges()}function cylinderBuildCircle(e){for(var t=0,r=0;r<CYLINDER_N;r++)t=e+r,cylinderAddTriangle(e,t,t+1);cylinderAddTriangle(e,t+1,e+1)}function cylinderBuildEdges(){for(var e=2*(CYLINDER_N+1),t=0,r=0;r<CYLINDER_N-1;r++)t=e+2*r,cylinderAddEdge(t,t+1,t+2,t+3);cylinderAddEdge(t+2,t+3,e,e+1)}function cylinderBuildFaces(){cylinderBuildCircle(0),cylinderBuildCircle(CYLINDER_N+1),cylinderBuildSurface(2*(CYLINDER_N+1))}function cylinderBuildSurface(e){for(var t=0,r=0;r<CYLINDER_N-1;r++)t=e+2*r,cylinderAddFace(t,t+1,t+2,t+3);cylinderAddFace(t+2,t+3,e,e+1)}function cylinderBuildVertices(){var e=[],t=[],r=[],a=[],n=[],i=[],o=vec3(0,1,0),s=vec3(0,-1,0);e.push(vec3(0,.5,0)),t.push(vec3(0,-.5,0)),a.push(o),n.push(s);for(var c=2*Math.PI/CYLINDER_N,l=1;l<=CYLINDER_N;l++){var u=.5*Math.cos(l*c),f=.5*Math.sin(l*c);e.push(vec3(u,.5,f)),t.push(vec3(u,-.5,f)),r.push(vec3(u,.5,f)),r.push(vec3(u,-.5,f));var d=normalize(vec3(u,0,f));a.push(o),n.push(s),i.push(d),i.push(d)}cylinder_points=e.concat(t).concat(r),cylinder_normals=a.concat(n).concat(i)}function cylinderDrawFilled(e,t){e.bindBuffer(e.ARRAY_BUFFER,cylinder_points_buffer);var r=e.getAttribLocation(t,"vPosition");e.vertexAttribPointer(r,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,cylinder_normals_buffer);var a=e.getAttribLocation(t,"vNormal");e.vertexAttribPointer(a,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,cylinder_faces_buffer),e.drawElements(e.TRIANGLES,cylinder_faces.length,e.UNSIGNED_SHORT,0)}function cylinderDrawWireFrame(e,t){e.bindBuffer(e.ARRAY_BUFFER,cylinder_points_buffer);var r=e.getAttribLocation(t,"vPosition");e.vertexAttribPointer(r,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,cylinder_normals_buffer);var a=e.getAttribLocation(t,"vNormal");e.vertexAttribPointer(a,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,cylinder_edges_buffer),e.drawElements(e.LINES,cylinder_edges.length,e.UNSIGNED_SHORT,0)}function cylinderInit(e){cylinderBuild(),cylinderUploadData(e)}function cylinderUploadData(e){cylinder_points_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,cylinder_points_buffer),e.bufferData(e.ARRAY_BUFFER,flatten(cylinder_points),e.STATIC_DRAW),cylinder_normals_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,cylinder_normals_buffer),e.bufferData(e.ARRAY_BUFFER,flatten(cylinder_normals),e.STATIC_DRAW),cylinder_faces_buffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,cylinder_faces_buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(cylinder_faces),e.STATIC_DRAW),cylinder_edges_buffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,cylinder_edges_buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(cylinder_edges),e.STATIC_DRAW)}function load_file(){var e=this.files[0],t=new FileReader,r="vertex"==this.id?"vertex-shader-2":"fragment-shader-2";t.onload=function(e){var t=e.name;return function(e){console.log(t),console.log(e.target.result),console.log(r),document.getElementById(r).textContent=e.target.result,program2=initShaders(gl,"vertex-shader-2","fragment-shader-2"),reset_program(program2),program=program2}}(e),t.readAsText(e)}function reset_program(e){mModelViewLoc=gl.getUniformLocation(e,"mModelView"),mNormalsLoc=gl.getUniformLocation(e,"mNormals"),mProjectionLoc=gl.getUniformLocation(e,"mProjection"),program=e}function getGammaTheta(e,t){var r;r=Math.asin(Math.sqrt(Math.tan(radians(e))*Math.tan(radians(t)))),gammaI=180*r/Math.PI,console.log(gammaI);var a;a=Math.atan(Math.sqrt(Math.tan(radians(e))/Math.tan(radians(t))))-Math.PI/2,thetaI=180*a/Math.PI,console.log(thetaI)}function reSize(){canvas.width=canvas.clientWidth,canvas.height=canvas.clientHeight,aspect=canvas.width/canvas.height,1==aspect&&(mProjection=ortho(-1,1,-1,1,-1,1)),aspect>1&&(mProjection=ortho(-1*aspect,1*aspect,-1,1,-1,1)),aspect<1&&(mProjection=ortho(-1,1,-1/aspect,1/aspect,-1,1))}function drawObject(e,t){isSphere&&isWired&&sphereDrawWireFrame(e,t),isCube&&isWired&&cubeDrawWireFrame(e,t),isPyramid&&isWired&&pyramidDrawWireFrame(e,t),isTorus&&isWired&&torusDrawWireFrame(e,t),isSphere&&isFilled&&sphereDrawFilled(e,t),isCube&&isFilled&&cubeDrawFilled(e,t),isPyramid&&isFilled&&pyramidDrawFilled(e,t),isTorus&&isFilled&&torusDrawFilled(e,t)}function render(){gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT),gl.uniformMatrix4fv(mProjectionLoc,!1,flatten(mProjection)),gl.viewport(0,0,canvas.width/2,canvas.height/2),gl.uniformMatrix4fv(mModelViewLoc,!1,flatten(topView)),gl.uniformMatrix4fv(mNormalsLoc,!1,flatten(transpose(inverse(topView)))),drawObject(gl,program),gl.viewport(canvas.width/2,0,canvas.width/2,canvas.height/2),gl.uniformMatrix4fv(mModelViewLoc,!1,flatten(otherView)),isAxon?gl.uniformMatrix4fv(mNormalsLoc,!1,flatten(transpose(inverse(otherView)))):gl.uniformMatrix4fv(mNormalsLoc,!1,flatten(mat4())),drawObject(gl,program),gl.viewport(0,canvas.height/2,canvas.width/2,canvas.height/2),gl.uniformMatrix4fv(mModelViewLoc,!1,flatten(frontView)),gl.uniformMatrix4fv(mNormalsLoc,!1,flatten(transpose(inverse(frontView)))),drawObject(gl,program),gl.viewport(canvas.width/2,canvas.height/2,canvas.width/2,canvas.height/2),gl.uniformMatrix4fv(mModelViewLoc,!1,flatten(leftView)),gl.uniformMatrix4fv(mNormalsLoc,!1,flatten(transpose(inverse(leftView)))),drawObject(gl,program),window.requestAnimationFrame(render)}function pushMatrix(){matrixStack.push(mat4(modelView[0],modelView[1],modelView[2],modelView[3]))}function popMatrix(){modelView=matrixStack.pop()}function multTranslation(e){modelView=mult(modelView,translate(e))}function multRotX(e){modelView=mult(modelView,rotateX(e))}function multRotY(e){modelView=mult(modelView,rotateY(e))}function multRotZ(e){modelView=mult(modelView,rotateZ(e))}function multMatrix(e){modelView=mult(modelView,e)}function multScale(e){modelView=mult(modelView,scalem(e))}function initialize(){gl.clearColor(0,0,0,1),gl.viewport(0,0,canvas.width,canvas.height),gl.enable(gl.DEPTH_TEST),program=initShaders(gl,"vertex-shader-lamp","fragment-shader-lamp"),cubeInit(gl),sphereInit(gl),cylinderInit(gl),document.getElementById("EyeX").oninput=function(){eyeX=event.srcElement.value},document.getElementById("EyeY").oninput=function(){eyeY=event.srcElement.value},setupProjection(),setupView()}function setupProjection(){projection=ortho(-4,4,-4,4,.1,100)}function setupView(){view=lookAt([eyeX,eyeY,5],[0,0,0],[0,1,0]),modelView=mat4(view[0],view[1],view[2],view[3])}function setMaterialColor(e){var t=gl.getUniformLocation(program,"color");gl.uniform3fv(t,e)}function sendMatrices(){var e=gl.getUniformLocation(program,"mView");gl.uniformMatrix4fv(e,!1,flatten(view));var t=gl.getUniformLocation(program,"mViewVectors");gl.uniformMatrix4fv(t,!1,flatten(normalMatrix(view,!1)));var r=gl.getUniformLocation(program,"mModelView");gl.uniformMatrix4fv(r,!1,flatten(modelView));var a=gl.getUniformLocation(program,"mNormals");gl.uniformMatrix4fv(a,!1,flatten(normalMatrix(modelView,!1)))}function draw_sphere(e){setMaterialColor(e),sendMatrices(),sphereDrawFilled(gl,program)}function draw_cube(e){setMaterialColor(e),sendMatrices(),cubeDrawFilled(gl,program)}function draw_cylinder(e){setMaterialColor(e),sendMatrices(),cylinderDrawFilled(gl,program)}function draw_scene(){restriction(),multTranslation([0,-3,0]),floor(),multTranslation([Dx,.45,Dz]),base(),multRotY(QW),cylinderBase(),firstRectangle(),multTranslation([0,1.2,0]),multRotZ(ZX),firstCylinder(),secondRectangle(),multTranslation([0,1,0]),multRotZ(AS),secondCylinder(),thirdRectangle(),multTranslation([1,1,0]),multRotX(35),multRotY(25),multRotZ(-54),multRotY(KL),thirdCylinder(),fourthRectangle(),fithRectangle()}function render(){gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT),gl.useProgram(program),
setupView();var e=gl.getUniformLocation(program,"mProjection");gl.uniformMatrix4fv(e,!1,flatten(projection)),draw_scene(),requestAnimFrame(render)}function floor(){pushMatrix(),multScale([7.5,.5,15]),draw_cube([.3,.3,.3]),popMatrix()}function base(){pushMatrix(),multScale([2.3,.4,1.3]),draw_cube([1,0,0]),popMatrix()}function cylinderBase(){pushMatrix(),multTranslation([0,.2,0]),multScale([.8,.5,.8]),draw_cylinder([0,1,0]),popMatrix()}function firstRectangle(){pushMatrix(),multTranslation([0,.8,0]),multScale([.3,.8,.3]),draw_cube([1,0,0]),popMatrix()}function firstCylinder(){pushMatrix(),multRotX(90),multScale([.35,.5,.35]),draw_cylinder([0,0,1]),popMatrix()}function secondRectangle(){pushMatrix(),multTranslation([0,.5,0]),multScale([.3,.8,.3]),draw_cube([1,0,0]),popMatrix()}function secondCylinder(){pushMatrix(),multRotX(90),multScale([.35,.5,.35]),draw_cylinder([1,1,0]),popMatrix()}function thirdRectangle(){pushMatrix(),multTranslation([.55,.55,0]),multRotZ(-45),multScale([.3,1.5,.3]),draw_cube([1,0,0]),popMatrix()}function thirdCylinder(){pushMatrix(),multScale([1.3,.4,1.3]),draw_cylinder([.5,.5,.5]),popMatrix()}function fourthRectangle(){pushMatrix(),multTranslation([-OP,.5,0]),multScale([.25,.6,.25]),draw_cube([1,1,0]),popMatrix()}function fithRectangle(){pushMatrix(),multTranslation([OP,.5,0]),multScale([.25,.6,.25]),draw_cube([1,1,0]),popMatrix()}function restriction(){OP>=.43&&(OP=.43),OP<=.13&&(OP=.13),Dx>=1&&(Dx=1),Dx<=-1&&(Dx=-1),Dz>=1&&(Dz=1),Dz<=-1&&(Dz=-1),ZX>=60&&(ZX=60),ZX<=-60&&(ZX=-60),AS>=120&&(AS=120),AS<=-25&&(AS=-25)}!function(e){"use strict";e('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=e(this.hash);if(t=t.length?t:e("[name="+this.hash.slice(1)+"]"),t.length)return e("html, body").animate({scrollTop:t.offset().top-57},1e3,"easeInOutExpo"),!1}}),e(".js-scroll-trigger").click(function(){e(".navbar-collapse").collapse("hide")}),e("body").scrollspy({target:"#mainNav",offset:57});var t=function(){e("#mainNav").offset().top>100?e("#mainNav").addClass("navbar-shrink"):e("#mainNav").removeClass("navbar-shrink")};t(),e(window).scroll(t),e(".popup-gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'}})}(jQuery);var sizeof={vec2:new Float32Array(flatten(vec2())).byteLength,vec3:new Float32Array(flatten(vec3())).byteLength,vec4:new Float32Array(flatten(vec4())).byteLength,mat2:new Float32Array(flatten(mat2())).byteLength,mat3:new Float32Array(flatten(mat3())).byteLength,mat4:new Float32Array(flatten(mat4())).byteLength};WebGLUtils=function(){var e=function(e){return'<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+e+"</div></div></td></tr></table>"},t=function(t,a){function n(r){var a=t.parentNode;a&&(a.innerHTML=e(r))}if(!window.WebGLRenderingContext)return n('This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>'),null;var i=r(t,a);return i||n('It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'),i},r=function(e,t){for(var r=["webgl","experimental-webgl","webkit-3d","moz-webgl"],a=null,n=0;n<r.length;++n){try{a=e.getContext(r[n],t)}catch(e){}if(a)break}return a};return{create3DContext:r,setupWebGL:t}}(),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}();var gl,isMand=!0,isMandLoc,complexLoc,complex=vec2(0,0),zoom=1,zoomLoc,factor=1,factorLoc,dxD,dyD,mouseDown=!1,deslocamento=vec2(0,0),offsetLoc,offsetX=0,offsetY=0;window.onload=function(){var e=document.getElementById("gl-canvasProjecto1");(gl=WebGLUtils.setupWebGL(e))||alert("WebGL isn't available");var t=[vec2(-1,1),vec2(-1,-1),vec2(1,1),vec2(1,-1)];gl.viewport(0,0,canvas.width,canvas.height),gl.clearColor(1,1,1,1);var r=initShaders(gl,"vertex-shader-1","fragment-shader-1");gl.useProgram(r),isMandLoc=gl.getUniformLocation(r,"isMand"),complexLoc=gl.getUniformLocation(r,"complex"),zoomLoc=gl.getUniformLocation(r,"zoom"),factorLoc=gl.getUniformLocation(r,"factor"),offsetLoc=gl.getUniformLocation(r,"offSet");var a=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a),gl.bufferData(gl.ARRAY_BUFFER,flatten(t),gl.STATIC_DRAW);var n=gl.getAttribLocation(r,"vPosition");gl.vertexAttribPointer(n,2,gl.FLOAT,!1,0,0),gl.enableVertexAttribArray(n),document.getElementById("slid1").onmousemove=function(){factor=event.srcElement.value},document.getElementById("Opcoes").onchange=function(e){switch(console.log(this.value),this.value){case"0":isMand=!0;break;case"1":isMand=!1,complex[0]=-.4,complex[1]=.6;break;case"2":isMand=!1,complex[0]=.285,complex[1]=0;break;case"3":isMand=!1,complex[0]=.285,complex[1]=.01;break;case"4":isMand=!1,complex[0]=-.8,complex[1]=.156;break;case"5":isMand=!1,complex[0]=.8,complex[1]=0}},window.addEventListener("keydown",function(){switch(event.keyCode){case 81:zoom*=.99;break;case 65:zoom/=.99}}),canvas.onmousedown=function(e){mouseDown=!0,dxD=e.x,dyD=e.y},canvas.onmousemove=function(e){mouseDown&&(deslocamento.x=e.x-dxD,deslocamento.y=e.y-dyD,dxD=e.x,dyD=e.y,offsetX+=2*deslocamento.x/this.width*zoom,offsetY-=2*deslocamento.y/this.height*zoom)},canvas.onmouseup=function(e){mouseDown=!1},render()},cube_vertices=[vec3(-.5,-.5,.5),vec3(.5,-.5,.5),vec3(.5,.5,.5),vec3(-.5,.5,.5),vec3(-.5,-.5,-.5),vec3(.5,-.5,-.5),vec3(.5,.5,-.5),vec3(-.5,.5,-.5)];var cube_points=[],cube_normals=[],cube_faces=[],cube_edges=[],cube_points_buffer,cube_normals_buffer,cube_faces_buffer,cube_edges_buffer;pyramid_vertices=[vec3(.5,-.5,.5),vec3(-.5,-.5,.5),vec3(-.5,-.5,-.5),vec3(.5,-.5,-.5),vec3(0,.5,0)];var pyramid_points=[],pyramid_normals=[],pyramid_faces=[],pyramid_edges=[],pyramid_points_buffer,pyramid_normals_buffer,pyramid_faces_buffer,pyramid_edges_buffer,sphere_points=[],sphere_normals=[],sphere_faces=[],sphere_edges=[],sphere_points_buffer,sphere_normals_buffer,sphere_faces_buffer,sphere_edges_buffer,SPHERE_LATS=40,SPHERE_LONS=50,torus_points=[],torus_normals=[],torus_faces=[],torus_edges=[],torus_points_buffer,torus_normals_buffer,torus_faces_buffer,torus_edges_buffer,torus_LATS=40,torus_LONS=50,cylinder_points=[],cylinder_normals=[],cylinder_faces=[],cylinder_edges=[],cylinder_points_buffer,cylinder_normals_buffer,cylinder_faces_buffer,cylinder_edges_buffer,CYLINDER_N=20,gl,canvas,program,program1,program2,mNormals,mNormalsLoc,mModelView,mModelViewLoc,mProjectionLoc,mProjection=mat4(),isSphere=!0,isCube=!1,isPyramid=!1,isTorus=!1,isWired=!0,isFilled=!1,topView=mat4(),leftView=mat4(),frontView=mat4(),otherView=mat4(),aspect,gammaI,thetaI,gamma,theta,l=1,isAxon=!0;window.onload=function(){canvas=document.getElementById("gl-canvasObject"),gl=WebGLUtils.setupWebGL(canvas),gl||alert("WebGL isn't available"),gl=WebGLUtils.setupWebGL(canvas),program1=initShaders(gl,"vertex-shader-2","fragment-shader-2"),gl.enable(gl.DEPTH_TEST),document.getElementById("vertex").onchange=load_file,document.getElementById("fragment").onchange=load_file,gl.clearColor(.3,.3,.3,1),canvas.width=canvas.clientWidth,canvas.height=canvas.clientHeight,gl.viewport(0,0,canvas.width,canvas.height),sphereInit(gl),cubeInit(gl),pyramidInit(gl),torusInit(gl),window.onresize=function(){reSize()},getGammaTheta(42,7),gamma=gammaI,theta=thetaI,mModelView=mat4(),mNormals=transpose(inverse(mat4())),mProjection=ortho(-1,1,-1,1,-1,1),topView=rotateX(90),leftView=rotateY(90),frontView=mModelView,otherView=mult(rotateX(gammaI),rotateY(thetaI)),reSize(),document.getElementById("axon").style.display="block",document.getElementById("obliq").style.display="none",document.getElementById("tiposDeObliqua").style.display="none",document.getElementById("perspect").style.display="none",document.getElementById("Objectos").onchange=function(e){switch(this.value){case"0":isSphere=!0,isCube=!1,isPyramid=!1,isTorus=!1,isAxon=!0,otherView=mult(rotateX(gammaI),rotateY(thetaI)),document.getElementById("Projecoes").value=0,document.getElementById("gammaS").value=gammaI,document.getElementById("thetaS").value=thetaI,document.getElementById("axon").style.display="block",document.getElementById("obliq").style.display="none",document.getElementById("perspect").style.display="none";break;case"1":isSphere=!1,isCube=!0,isPyramid=!1,isTorus=!1,isAxon=!0,otherView=mult(rotateX(gammaI),rotateY(thetaI)),document.getElementById("Projecoes").value=0,document.getElementById("gammaS").value=gammaI,document.getElementById("thetaS").value=thetaI,document.getElementById("axon").style.display="block",document.getElementById("obliq").style.display="none",document.getElementById("perspect").style.display="none";break;case"2":isSphere=!1,isCube=!1,isPyramid=!0,isTorus=!1,isAxon=!0,otherView=mult(rotateX(gammaI),rotateY(thetaI)),document.getElementById("Projecoes").value=0,document.getElementById("gammaS").value=gammaI,document.getElementById("thetaS").value=thetaI,document.getElementById("axon").style.display="block",document.getElementById("obliq").style.display="none",document.getElementById("perspect").style.display="none";break;case"3":isSphere=!1,isCube=!1,isPyramid=!1,isTorus=!0,isAxon=!0,otherView=mult(rotateX(gammaI),rotateY(thetaI)),document.getElementById("Projecoes").value=0,document.getElementById("gammaS").value=gammaI,document.getElementById("thetaS").value=thetaI,document.getElementById("axon").style.display="block",document.getElementById("obliq").style.display="none",document.getElementById("perspect").style.display="none"}},document.getElementById("Fillings").onchange=function(e){switch(console.log(this.value),this.value){case"0":isWired=!0,isFilled=!1;break;case"1":isWired=!1,isFilled=!0}},document.getElementById("Projecoes").onchange=function(e){switch(console.log(this.value),this.value){case"0":isAxon=!0,otherView=mult(rotateX(gammaI),rotateY(thetaI)),document.getElementById("gammaS").value=gammaI,document.getElementById("thetaS").value=thetaI,document.getElementById("axon").style.display="block",document.getElementById("obliq").style.display="none",document.getElementById("perspect").style.display="none";break;case"1":var t=mat4(1,0,-1*Math.cos(45),0,0,1,-1*Math.sin(45),0,0,0,1,0,0,0,0,1);otherView=t,document.getElementById("axon").style.display="none",document.getElementById("obliq").style.display="block",document.getElementById("obliquas").style.display="block",document.getElementById("obliquas").value=0,document.getElementById("perspect").style.display="none",isAxon=!1;break;case"2":isAxon=!1;var r=mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,-.5,1);otherView=r,document.getElementById("axon").style.display="none",document.getElementById("obliq").style.display="none",document.getElementById("perspect").style.display="block"}},document.getElementById("obliquas").onchange=function(e){switch(console.log(this.value),this.value){case"0":l=1;var t=mat4(1,0,-l*Math.cos(45),0,0,1,-l*Math.sin(45),0,0,0,1,0,0,0,0,1);otherView=t;break;case"1":l=.5;var t=mat4(1,0,-l*Math.cos(45),0,0,1,-l*Math.sin(45),0,0,0,1,0,0,0,0,1);otherView=t;break;case"2":l=0;var t=mat4(1,0,-l*Math.cos(45),0,0,1,-l*Math.sin(45),0,0,0,1,0,0,0,0,1);otherView=t}},document.getElementById("gammaS").oninput=function(){gamma=event.srcElement.value,otherView=mult(rotateX(gamma),rotateY(theta))},document.getElementById("thetaS").oninput=function(){theta=event.srcElement.value,otherView=mult(rotateX(gamma),rotateY(theta))},document.getElementById("zS").oninput=function(){var e=event.srcElement.value,t=mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,-1/e,1);otherView=t},reset_program(program1),render()};var gl,canvas,program,WIREFRAME=1,FILLED=2,renderMode=WIREFRAME,projection,modelView,view,QW=1,ZX=1,AS=1,OP=.3,KL=1,Dx=.3,Dz=-.2,eyeX=0,eyeY=0;matrixStack=[],window.onload=function(){canvas=document.getElementById("gl-canvasLamp"),gl=WebGLUtils.setupWebGL(canvas),gl||alert("WebGL isn't available"),initialize(),window.addEventListener("keydown",function(){switch(event.keyCode){case 81:QW+=10;break;case 87:QW-=10;break;case 90:ZX+=10;break;case 88:ZX-=10;break;case 65:AS+=10;break;case 83:AS-=10;break;case 79:OP+=.01;break;case 80:OP-=.01;break;case 75:KL+=5;break;case 76:KL-=5;break;case 39:Dx+=.1;break;case 37:Dx-=.1;break;case 38:Dz-=.1;break;case 40:Dz+=.1}}),render()},$(document).ready(function(){AOS.init({disable:"mobile"})});